# é—®å·ç³»ç»Ÿ - é¡¹ç›®æ•´ä½“ç»“æ„æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Vue 3 + Express + MySQL** çš„åœ¨çº¿é—®å·è°ƒæŸ¥ç³»ç»Ÿï¼Œæä¾›é—®å·åˆ›å»ºã€å‘å¸ƒã€å¡«å†™ã€æ•°æ®åˆ†æåŠ AI æŠ¥å‘Šç”Ÿæˆç­‰å®Œæ•´åŠŸèƒ½ã€‚

### é¡¹ç›®ä¿¡æ¯
- **é¡¹ç›®åç§°**: é—®å·è°ƒæŸ¥ç³»ç»Ÿ (Questionnaire System)
- **æŠ€æœ¯æ ˆ**: 
  - å‰ç«¯: Vue 3 + Element Plus + Pinia + Vue Router + Vite
  - åç«¯: Express + Sequelize + MySQL + JWT
  - AIæœåŠ¡: Coze API (æŠ¥å‘Šç”Ÿæˆ)
- **å¼€å‘æ¨¡å¼**: å‰åç«¯åˆ†ç¦»
- **æ•°æ®åº“**: MySQL
- **éƒ¨ç½²æ–¹å¼**: å‰ç«¯ç‹¬ç«‹éƒ¨ç½²ï¼Œåç«¯ API æœåŠ¡ç‹¬ç«‹éƒ¨ç½²

---

## ğŸ—ï¸ é¡¹ç›®æ•´ä½“æ¶æ„

```
questionnaire-system/
â”œâ”€â”€ client/                          # å‰ç«¯é¡¹ç›® (Vue 3)
â”‚   â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”‚   â”œâ”€â”€ api/                    # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ assets/                 # é™æ€èµ„æº (æ ·å¼ã€å›¾ç‰‡)
â”‚   â”‚   â”œâ”€â”€ components/             # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/            # ç»„åˆå¼ API (é€»è¾‘å¤ç”¨)
â”‚   â”‚   â”œâ”€â”€ hooks/                  # React é£æ ¼ hooks
â”‚   â”‚   â”œâ”€â”€ layouts/                # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ store/                  # çŠ¶æ€ç®¡ç† (Pinia)
â”‚   â”‚   â”œâ”€â”€ views/                  # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.js                 # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ public/                     # å…¬å…±é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ vite.config.js              # Vite é…ç½®
â”‚   â””â”€â”€ index.html                  # HTML æ¨¡æ¿
â”‚
â”œâ”€â”€ server/                          # åç«¯é¡¹ç›® (Express)
â”‚   â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ database.js             # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ jwt.js                  # JWT é…ç½®
â”‚   â”œâ”€â”€ controllers/                # æ§åˆ¶å™¨ (ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ middleware/                 # ä¸­é—´ä»¶ (è®¤è¯ã€éªŒè¯ã€é”™è¯¯å¤„ç†)
â”‚   â”œâ”€â”€ models/                     # æ•°æ®æ¨¡å‹ (Sequelize)
â”‚   â”œâ”€â”€ routes/                     # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ services/                   # å¤–éƒ¨æœåŠ¡ (Coze AI)
â”‚   â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ fonts/                      # PDF ç”Ÿæˆå­—ä½“
â”‚   â”œâ”€â”€ app.js                      # Express åº”ç”¨
â”‚   â”œâ”€â”€ server.js                   # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ README.md                   # åç«¯è¯´æ˜
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1ï¸âƒ£ ç”¨æˆ·ç³»ç»Ÿ
- **æ³¨å†Œç™»å½•**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ç™»å‡ºã€Token åˆ·æ–°
- **ä¸ªäººä¸­å¿ƒ**: ä¸ªäººä¿¡æ¯ç®¡ç†ã€å¤´åƒä¿®æ”¹ã€å¯†ç ä¿®æ”¹
- **ç§¯åˆ†ç³»ç»Ÿ**: ç­”é¢˜è·å–ç§¯åˆ†ã€ç§¯åˆ†å†å²è®°å½•
- **å¾½ç« ç³»ç»Ÿ**: æˆå°±å¾½ç« ã€è§£é”æ¡ä»¶ã€å±•ç¤º
- **ç­‰çº§ç³»ç»Ÿ**: ç”¨æˆ·ç­‰çº§ã€ç»éªŒå€¼

### 2ï¸âƒ£ é—®å·ç³»ç»Ÿ
- **é—®å·åˆ›å»º**: æ”¯æŒå•é€‰ã€å¤šé€‰ã€å¡«ç©ºã€è¯„åˆ†ç­‰é¢˜å‹
- **é—®å·ç®¡ç†**: è‰ç¨¿ä¿å­˜ã€å‘å¸ƒã€åœæ­¢ã€åˆ é™¤
- **é—®å·æ¨¡æ¿**: é¢„è®¾æ¨¡æ¿ã€å¿«é€Ÿåˆ›å»º
- **é—®å·åˆ†ç±»**: å¤šç§åˆ†ç±» (å­¦æœ¯è°ƒç ”ã€å¸‚åœºè°ƒæŸ¥ã€å¿ƒç†æµ‹è¯•ç­‰)
- **é—®å·å®¡æ ¸**: ç®¡ç†å‘˜å®¡æ ¸æœºåˆ¶

### 3ï¸âƒ£ ç­”é¢˜ç³»ç»Ÿ
- **é—®å·å¡«å†™**: ç­”é¢˜è¿›åº¦ä¿å­˜ã€ç­”é¢˜æ—¶é•¿ç»Ÿè®¡
- **è·³è½¬é€»è¾‘**: æ ¹æ®ç­”æ¡ˆè·³è½¬åˆ°ä¸åŒé¢˜ç›®
- **ç­”é¢˜åé¦ˆ**: åŠ¨ç”»æ•ˆæœã€ç­”é¢˜æç¤º
- **ç­”æ¡ˆæäº¤**: ç­”æ¡ˆä¿å­˜ã€åˆ†æ•°è®¡ç®—

### 4ï¸âƒ£ æ•°æ®ç»Ÿè®¡
- **é—®å·ç»Ÿè®¡**: å‚ä¸äººæ•°ã€å®Œæˆç‡ã€ç­”æ¡ˆåˆ†å¸ƒ
- **ç”¨æˆ·ç»Ÿè®¡**: ç­”é¢˜è®°å½•ã€åˆ›å»ºé—®å·æ•°é‡ã€ç§¯åˆ†æ’å
- **æ•°æ®å¯è§†åŒ–**: ECharts å›¾è¡¨å±•ç¤º

### 5ï¸âƒ£ AI æŠ¥å‘Šç”Ÿæˆ
- **ä¸ªæ€§åŒ–æŠ¥å‘Š**: åŸºäºç”¨æˆ·ç­”æ¡ˆç”Ÿæˆ AI åˆ†ææŠ¥å‘Š
- **æŠ¥å‘Šä¸‹è½½**: PDF æ ¼å¼ä¸‹è½½
- **æŠ¥å‘Šç®¡ç†**: å†å²æŠ¥å‘ŠæŸ¥çœ‹ã€åˆ é™¤

### 6ï¸âƒ£ ç¤¾äº¤åŠŸèƒ½
- **è¯„è®ºç³»ç»Ÿ**: é—®å·è¯„è®ºã€å›å¤
- **æ”¶è—åŠŸèƒ½**: æ”¶è—é—®å·ã€æŸ¥çœ‹æ”¶è—åˆ—è¡¨
- **æ’è¡Œæ¦œ**: ç§¯åˆ†æ’è¡Œã€æ´»è·ƒåº¦æ’è¡Œ

### 7ï¸âƒ£ ç®¡ç†åå°
- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·åˆ—è¡¨ã€è§’è‰²ä¿®æ”¹ã€å°ç¦
- **é—®å·ç®¡ç†**: é—®å·å®¡æ ¸ã€åˆ é™¤ã€ç»Ÿè®¡
- **å…¬å‘Šç®¡ç†**: å‘å¸ƒå…¬å‘Šã€ä¿®æ”¹ã€åˆ é™¤
- **æ•°æ®é¢æ¿**: ç³»ç»Ÿç»Ÿè®¡ã€æ´»åŠ¨æ—¥å¿—

---

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### å‰ç«¯æŠ€æœ¯
- **Vue 3**: Composition APIã€å“åº”å¼ç³»ç»Ÿ
- **Element Plus**: UI ç»„ä»¶åº“
- **Pinia**: çŠ¶æ€ç®¡ç†
- **Vue Router**: è·¯ç”±ç®¡ç†
- **Axios**: HTTP è¯·æ±‚
- **ECharts**: æ•°æ®å¯è§†åŒ–
- **GSAP**: åŠ¨ç”»æ•ˆæœ
- **Three.js**: 3D æ•ˆæœ (æˆé•¿æ ‘)
- **Lottie**: åŠ¨ç”»æ’­æ”¾

### åç«¯æŠ€æœ¯
- **Express**: Web æ¡†æ¶
- **Sequelize**: ORM æ¡†æ¶
- **MySQL**: å…³ç³»å‹æ•°æ®åº“
- **JWT**: èº«ä»½è®¤è¯
- **bcrypt**: å¯†ç åŠ å¯†
- **PDFKit**: PDF ç”Ÿæˆ
- **Coze API**: AI æŠ¥å‘Šç”Ÿæˆ

### å®‰å…¨ç‰¹æ€§
- JWT Token è®¤è¯
- å¯†ç  bcrypt åŠ å¯†
- CORS è·¨åŸŸé…ç½®
- Helmet å®‰å…¨å¤´
- è¯·æ±‚å‚æ•°éªŒè¯
- SQL æ³¨å…¥é˜²æŠ¤ (Sequelize ORM)

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.x
- MySQL >= 5.7
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–

```bash
# å‰ç«¯
cd client
npm install

# åç«¯
cd server
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `server/` ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=questionnaire_db
DB_USER=root
DB_PASSWORD=your_password

# JWT é…ç½®
JWT_SECRET=your_jwt_secret
JWT_EXPIRES_IN=7d

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# Coze API é…ç½®
COZE_API_KEY=your_coze_api_key
COZE_BOT_ID=your_bot_id
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd server
# æ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„
npm start
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# åç«¯ (ç«¯å£ 3000)
cd server
npm run dev

# å‰ç«¯ (ç«¯å£ 5173)
cd client
npm run dev
```

### 5. è®¿é—®ç³»ç»Ÿ

- å‰ç«¯: http://localhost:5173
- åç«¯ API: http://localhost:3000/api

---
 
## ğŸ¨ é¡µé¢è·¯ç”±ç»“æ„

### å‰ç«¯è·¯ç”±

```
/                        # é¦–é¡µ (é—®å·å¹¿åœº)
/login                   # ç™»å½•é¡µ
/register                # æ³¨å†Œé¡µ
/questionnaire/:id       # é—®å·è¯¦æƒ…/å¡«å†™é¡µ
/survey/:id/stats        # é—®å·ç»Ÿè®¡é¡µ
/user/profile            # ä¸ªäººä¸­å¿ƒ
/user/surveys            # æˆ‘çš„é—®å·
/user/answers            # æˆ‘çš„ç­”é¢˜
/user/favorites          # æˆ‘çš„æ”¶è—
/user/achievements       # æˆå°±å¾½ç« 
/rankings                # æ’è¡Œæ¦œ
/admin/dashboard         # ç®¡ç†åå° - ä»ªè¡¨æ¿
/admin/users             # ç®¡ç†åå° - ç”¨æˆ·ç®¡ç†
/admin/questionnaires    # ç®¡ç†åå° - é—®å·ç®¡ç†
/admin/announcements     # ç®¡ç†åå° - å…¬å‘Šç®¡ç†
```

### åç«¯è·¯ç”±

```
/api/auth/*              # è®¤è¯ç›¸å…³
/api/users/*             # ç”¨æˆ·ç›¸å…³
/api/surveys/*           # é—®å·ç›¸å…³
/api/answers/*           # ç­”æ¡ˆç›¸å…³
/api/comments/*          # è¯„è®ºç›¸å…³
/api/categories/*        # åˆ†ç±»ç›¸å…³
/api/favorites/*         # æ”¶è—ç›¸å…³
/api/badges/*            # å¾½ç« ç›¸å…³
/api/reports/*           # æŠ¥å‘Šç›¸å…³
/api/admin/*             # ç®¡ç†å‘˜ç›¸å…³
```

---

## ğŸ“¦ éƒ¨ç½²è¯´æ˜

### å‰ç«¯éƒ¨ç½²

```bash
cd client
npm run build
# å°† dist/ ç›®å½•éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨ (Nginx/Apache/Vercelç­‰)
```

### åç«¯éƒ¨ç½²

```bash
cd server
# ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
NODE_ENV=production npm start
```

### Nginx é…ç½®ç¤ºä¾‹

```nginx
# å‰ç«¯
server {
    listen 80;
    server_name your-domain.com;
    
    root /path/to/client/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# åç«¯ API åå‘ä»£ç†
server {
    listen 80;
    server_name api.your-domain.com;
    
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## ğŸ” ä»£ç è§„èŒƒ

### å‰ç«¯
- ç»„ä»¶å‘½å: PascalCase (å¦‚ `UserProfile.vue`)
- æ–‡ä»¶ç»„ç»‡: æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†
- API è°ƒç”¨: ç»Ÿä¸€å°è£…åœ¨ `src/api/` ç›®å½•
- çŠ¶æ€ç®¡ç†: Pinia stores
- æ ·å¼: SCSS + Element Plus ä¸»é¢˜å®šåˆ¶

### åç«¯
- è·¯ç”±: RESTful é£æ ¼
- æ§åˆ¶å™¨: ä¸šåŠ¡é€»è¾‘åˆ†ç¦»
- æ¨¡å‹: Sequelize ORM
- é”™è¯¯å¤„ç†: ç»Ÿä¸€é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- è®¤è¯: JWT Token

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ‘¥ è´¡çŒ®è€…

- å¼€å‘è€…: [æ‚¨çš„åå­—]
- é¡¹ç›®æ—¶é—´: 2024å¹´

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- Email: your-email@example.com
- GitHub: https://github.com/your-username/questionnaire-system

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025å¹´12æœˆ1æ—¥
